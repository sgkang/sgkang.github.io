<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="author" content="Leonardo Uieda"/>

            <meta name="keywords" content="science, geoscience, geophysics, software, open-source"/>

        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:creator" content="@leouieda">
        <meta name="twitter:image" content="https://www.leouieda.com/images/thumb/introducing-pooch.png">
    <meta name="twitter:site" content="@leouieda">
    <meta name="twitter:title" content="Introducing Pooch">
            <meta name="twitter:description" content="A friend to fetch your sample data files. Pooch is a Python package that manages downloading data files over HTTP and storing them in a loca...">

    <meta property="og:title" content="Introducing Pooch">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.leouieda.com/blog/introducing-pooch.html">
    <meta property="og:site_name" content="Seogi Kang">
        <meta property="og:image" content="https://www.leouieda.com/images/thumb/introducing-pooch.png">
            <meta property="og:description" content="A friend to fetch your sample data files. Pooch is a Python package that manages downloading data files over HTTP and storing them in a loca...">

    <title>    Introducing Pooch | Seogi Kang
</title>
    <link rel="shortcut icon" href="/images/favicon.png">

    <!-- CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/fonts.css">
    <link rel="stylesheet" href="/css/academicons.css">
    <link rel="stylesheet" href="/css/font-awesome.css">

    <link rel="alternate" type="application/rss+xml" href="https://www.leouieda.com/rss.xml" title="Seogi Kang">
</head>

<body>


                <div class="menu-opaque container-fluid menu text-center">
        <div class="col-lg-12 menu-list">
            <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/research">Research</a></li>
                    <li><a href="/papers">Papers</a></li>
                    <li><a href="/presentations">Presentations</a></li>
                    <li><a href="/teaching">Teaching</a></li>
                    <li><a href="/contact">Contact</a></li>
                    <li><a href="https://github.com/leouieda"><i class="fa fa-github fa-lg" title="Github"></i></a></li>
                    <li><a href="https://twitter.com/leouieda"><i class="fa fa-twitter fa-lg" title="Twitter"></i></a></li>
                    <li><a href="https://www.linkedin.com/in/uieda"><i class="fa fa-linkedin fa-lg" title="LinkedIn"></i></a></li>
                    <li><a href="/tag"><i class="fa fa-tags fa-lg" title="Browse by tag"></i></a></li>
                    <li><a href="/rss.xml"><i class="fa fa-rss fa-lg" title="RSS feed for blog posts"></i></a></li>
            </ul>
        </div>
    </div>


    <div class="container content">
        <ol class="breadcrumb">
        <li><a href="/">Home</a></li><li><a href="/blog/">Blog</a></li></ol>


    <h1>Introducing Pooch</h1>

    <ul class="fa-ul">
        <li class="post-date">
            <i class="fa-li fa fa-calendar fa-fw" title="date"></i>
             20 July 2018
        </li>
            <li>
                <i class="fa-li fa fa-tags fa-fw" title="tags"></i>
                    <div class="tag-list">
        <ul><li><span class="label label-default tag tag-link"><a href="/tag/fatiando">fatiando</a></span></li><li><span class="label label-default tag tag-link"><a href="/tag/open-source">open-source</a></span></li><li><span class="label label-default tag tag-link"><a href="/tag/python">python</a></span></li></ul>
    </div>
            </li>
    </ul>

    <blockquote>
<p>A friend to fetch your sample data files.</p>
</blockquote>
<p><a href="https://github.com/fatiando/pooch">Pooch</a> is a Python package that manages downloading
data files over HTTP and storing them in a local directory.
It is meant to be used by other Python libraries that ship sample data files for use in
documentation, workshops, demos, etc.</p>
<p>For example, your package could define a <code>datasets.py</code> module that has functions to load
sample data
(<a href="http://scikit-learn.org/0.19/modules/classes.html#module-sklearn.datasets">like scikit-learn does</a>).
If you want the data to live on the web (like in the Github repo) instead of shipping it
with your package, Pooch can keep track of it and download it to the user's computer
only when it's needed.</p>
<p>This is what a <code>datasets.py</code> module would look like using Pooch:</p>
<div class="codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Module mypackage/datasets.py</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">pooch</span>

<span class="c1"># Get the version string from your project. You have one of these, right?</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">__version__</span>


<span class="c1"># Create a new friend to manage your sample data storage</span>
<span class="n">GOODBOY</span> <span class="o">=</span> <span class="n">pooch</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="c1"># Folder where the data will be stored. For a sensible default, use the default</span>
    <span class="c1"># cache folder for your OS.</span>
    <span class="n">path</span><span class="o">=</span><span class="n">pooch</span><span class="o">.</span><span class="n">os_cache</span><span class="p">(</span><span class="s2">&quot;mypackage&quot;</span><span class="p">),</span>
    <span class="c1"># Base URL of the remote data store. Will call .format on this string to insert</span>
    <span class="c1"># the version (see below).</span>
    <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://github.com/myproject/mypackage/raw/</span><span class="si">{version}</span><span class="s2">/data/&quot;</span><span class="p">,</span>
    <span class="c1"># Pooches are versioned so that you can use multiple versions of a package</span>
    <span class="c1"># simultaneously. Use PEP440 compliant version number. The version will be</span>
    <span class="c1"># appended to the path.</span>
    <span class="n">version</span><span class="o">=</span><span class="n">__version__</span><span class="p">,</span>
    <span class="c1"># If a version as a &quot;+XX.XXXXX&quot; suffix, we&#39;ll assume that this is a dev version</span>
    <span class="c1"># and replace the version with this string.</span>
    <span class="n">version_dev</span><span class="o">=</span><span class="s2">&quot;master&quot;</span><span class="p">,</span>
    <span class="c1"># An environment variable that overwrites the path.</span>
    <span class="n">env</span><span class="o">=</span><span class="s2">&quot;MYPACKAGE_DATA_DIR&quot;</span><span class="p">,</span>
    <span class="c1"># The cache file registry. A dictionary with all files managed by this pooch.</span>
    <span class="c1"># Keys are the file names (relative to *base_url*) and values are their</span>
    <span class="c1"># respective SHA256 hashes. Files will be downloaded automatically when needed</span>
    <span class="c1"># (see fetch_gravity_data).</span>
    <span class="n">registry</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;gravity-data.csv&quot;</span><span class="p">:</span> <span class="s2">&quot;89y10phsdwhs09whljwc09whcowsdhcwodcy0dcuhw&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="c1"># You can also load the registry from a file. Each line contains a file name and</span>
<span class="c1"># it&#39;s sha256 hash separated by a space. This makes it easier to manage large</span>
<span class="c1"># numbers of data files. The registry file should be in the same directory as this</span>
<span class="c1"># module.</span>
<span class="n">GOODBOY</span><span class="o">.</span><span class="n">load_registry</span><span class="p">(</span><span class="s2">&quot;registry.txt&quot;</span><span class="p">)</span>


<span class="c1"># Define functions that your users can call to get back some sample data in memory</span>
<span class="k">def</span> <span class="nf">fetch_gravity_data</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load some sample gravity data to use in your docs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Fetch the path to a file in the local storae. If it&#39;s not there, we&#39;ll</span>
    <span class="c1"># download it.</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="n">GOODBOY</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s2">&quot;gravity-data.csv&quot;</span><span class="p">)</span>
    <span class="c1"># Load it with numpy/pandas/etc</span>
    <span class="n">data</span> <span class="o">=</span> <span class="o">...</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>


<h2 id="features">Features</h2>
<ul>
<li>Download a file only if it's still not in the local storage.</li>
<li>Check the SHA256 hash to make sure the file is not corrupted or needs updating.</li>
<li>If the hash is different from the registry, Pooch will download a new version of the
  file.</li>
<li>If the hash still doesn't match, Pooch will raise an exception warning of possible
  data corruption.</li>
</ul>
<h2 id="about">About</h2>
<p>I started coding up Pooch at the <a href="https://scipy2018.scipy.org/">Scipy2018</a> sprints last
week.
At one point, I realised that I was writing the same code to fetch sample data multiple
times.
I asked <a href="http://www.johnrleeman.com/">John Leeman</a> if such a package would be useful to
<a href="https://github.com/Unidata/MetPy">MetPy</a>
and, as it turns out, he was in the middle of
<a href="https://github.com/Unidata/MetPy/pull/760">implementing the same thing</a>.
So I decided to write this as a standalone package that we could all share.</p>
<p>Pooch is the first package released as part of the
<a href="/blog/future-of-fatiando.html" title="The future of Fatiando a Terra">breakup of the Fatiando a Terra project</a>.
It will be used in most other packages in the new Fatiando ecosystem, like
<a href="https://www.fatiando.org/verde/">Verde</a>.</p>
<h2 id="taking-it-for-a-test-drive">Taking it for a test drive</h2>
<p>Pooch is still a bit experimental but has complete test coverage and builds successfully
on Linux, Mac, and Windows. I encourage you to give our first alpha release a try
(v0.1a1):</p>
<div class="codehilite"><pre><span></span>pip install pooch==0.1a1
</pre></div>


<p>The documentation at <a href="http://www.fatiando.org/pooch/">fatiando.org/pooch</a> has
instructions for training your pooch to fetch data. There is also an API reference that
lists all of the configuration options available.</p>
<h2 id="getting-involved">Getting involved</h2>
<p>The code is <a href="https://github.com/fatiando/pooch/blob/master/LICENSE.txt">BSD licensed</a>
and we would love contributions of any form!
Checkout the Github repository <a href="https://github.com/fatiando/pooch">fatiando/pooch</a> and
please report any issues that you might encounter or features you would like to have.</p>
<p>We have
<a href="https://github.com/fatiando/pooch/blob/master/CONTRIBUTING.md">Contributing Guide</a> to
help you get started and a
<a href="https://github.com/fatiando/pooch/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a>
to keep you safe.</p>
<p><strong>Update (2018-08-10):</strong> Pooch now works on Python 2.7 (<a href="https://github.com/fatiando/pooch/pull/17">PR17</a>)
but we'll only support it until mid 2019. </p>
<hr />
<p><em>Photo of Doc the dog used in the thumbnail image is by the United States Marine Corps
and is in the
<a href="https://commons.wikimedia.org/wiki/File:Fetch,_Fido_(8577564334).jpg">public domain</a>.</em></p>

        <hr><div class="panel panel-default feedback">
        <div class="panel-body">
                <i class="fa fa-comments fa-fw" title=""></i><strong>Comments?</strong>
            Let me know on Twitter
            (<a href="https://twitter.com/intent/tweet?text=@leouieda&url=https://www.leouieda.com/blog/introducing-pooch.html">tweet @leouieda</a>).</div>
    </div><div class="panel panel-default feedback">
        <div class="panel-body">
                <i class="fa fa-bug fa-fw" title=""></i><strong>Found a typo/mistake?</strong>
            Send a <a href="https://github.com/leouieda/website/edit/master/blog\introducing-pooch.md">fix through Github</a>.
            All you need is an account and 5 minutes!</div>
    </div>

    <h2>More from the blog</h2>
        <div class="card-index"><div class="row"><div class="col-md-6"><div class="row"><div class="col-md-6 col-sm-6 col-xs-6">
                        <a href="/blog/ssi-fellowship.html">
    <div class="row card">
        <div class="col-md-12 card-thumbnail">
            <img class="" alt="Thumbnail image for publication."
         src="/images/thumb/ssi-fellowship.png">
        </div>
        <div class="col-md-12 card-caption"><span class="card-title">
                Advancing research software in the UK through an SSI fellowship
            </span><br>
                <span class="card-date">(23 Jan 2020)</span><br></div>
    </div></a>
                    </div><div class="col-md-6 col-sm-6 col-xs-6">
                        <a href="/blog/liverpool-phd-2020.html">
    <div class="row card">
        <div class="col-md-12 card-thumbnail">
            <img class="" alt="Thumbnail image for publication."
         src="/images/thumb/liverpool-phd-2020.png">
        </div>
        <div class="col-md-12 card-caption"><span class="card-title">
                Two PhD studentships at the University of Liverpool
            </span><br>
                <span class="card-date">(08 Dec 2019)</span><br></div>
    </div></a>
                    </div></div></div><div class="col-md-6"><div class="row"><div class="col-md-6 col-sm-6 col-xs-6">
                        <a href="/blog/conda-envs.html">
    <div class="row card">
        <div class="col-md-12 card-thumbnail">
            <img class="" alt="Thumbnail image for publication."
         src="/images/thumb/conda-envs.png">
        </div>
        <div class="col-md-12 card-caption"><span class="card-title">
                Manage project dependencies with conda environments
            </span><br>
                <span class="card-date">(26 Dec 2018)</span><br></div>
    </div></a>
                    </div><div class="col-md-6 col-sm-6 col-xs-6">
                        <a href="/blog/introducing-verde.html">
    <div class="row card">
        <div class="col-md-12 card-thumbnail">
            <img class="" alt="Thumbnail image for publication."
         src="/images/thumb/introducing-verde.png">
        </div>
        <div class="col-md-12 card-caption"><span class="card-title">
                Introducing Verde
            </span><br>
                <span class="card-date">(14 Sep 2018)</span><br></div>
    </div></a>
                    </div></div></div></div></div>

            <h2>Related pages</h2>
            <div class="card-index"><div class="row"><div class="col-md-6"><div class="row"><div class="col-md-6 col-sm-6 col-xs-6">
                        <a href="/talks/geophysics-oss.html">
    <div class="row card">
        <div class="col-md-12 card-thumbnail">
            <img class="" alt="Thumbnail image for publication."
         src="/images/thumb/geophysics-oss.png">
        </div>
        <div class="col-md-12 card-caption"><span class="card-title">
                Geophysical research powered by open-source
            </span><br>
                <span class="card-date">(2020)</span><br></div>
    </div></a>
                    </div><div class="col-md-6 col-sm-6 col-xs-6">
                        <a href="/talks/egu2020.html">
    <div class="row card">
        <div class="col-md-12 card-thumbnail">
            <img class="" alt="Thumbnail image for publication."
         src="/images/thumb/egu2020.png">
        </div>
        <div class="col-md-12 card-caption"><span class="card-title">
                Evaluating the accuracy of equivalent-source predictions using cross-validation
            </span><br>
                <span class="card-date">(2020)</span><br></div>
    </div></a>
                    </div></div></div><div class="col-md-6"><div class="row"><div class="col-md-6 col-sm-6 col-xs-6">
                        <a href="/blog/ssi-fellowship.html">
    <div class="row card">
        <div class="col-md-12 card-thumbnail">
            <img class="" alt="Thumbnail image for publication."
         src="/images/thumb/ssi-fellowship.png">
        </div>
        <div class="col-md-12 card-caption"><span class="card-title">
                Advancing research software in the UK through an SSI fellowship
            </span><br>
                <span class="card-date">(2020)</span><br></div>
    </div></a>
                    </div><div class="col-md-6 col-sm-6 col-xs-6">
                        <a href="/papers/pooch.html">
    <div class="row card">
        <div class="col-md-12 card-thumbnail">
            <img class="" alt="Thumbnail image for publication."
         src="/images/thumb/pooch.png">
        </div>
        <div class="col-md-12 card-caption"><span class="card-title">
                Pooch: A friend to fetch your data files
            </span><br>
                <span class="card-date">(2020)</span><br></div>
    </div></a>
                    </div></div></div></div></div>


    </div>


    <footer>
<div class="container">

    <p class="text-center">
        © 2021 Seogi Kang •
        Except were noted, all content is licensed
        <a rel="license"
           href="http://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a>.
        <br>
        Built using <a href="http://urubu.jandecaluwe.com/">Urubu</a>
        and <a href="http://getbootstrap.com/">Bootstrap</a> with
        icons by <a href="http://fontawesome.io/">Font Awesome</a>
        and <a href="http://jpswalsh.github.io/academicons/">Academicons</a>.
        <br>
        The source code used to build this website is available at
        <a href="https://github.com/leouieda/website">leouieda/website</a>.
    </p>

</div>    </footer>

    <!-- Placed at the end of the document so the pages load faster -->
    <!-- ================================================== -->
            <!-- Bootstrap core JavaScript -->
        <script src="/js/jquery.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>

</body>
</html>